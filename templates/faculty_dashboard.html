<!DOCTYPE html>
<html lang="en">
<head>
    <title>Faculty Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        .banner {
            width: 100%;
            text-align: center;
            background-color: #f8f9fa;
            padding: 20px;
            box-shadow: 0px 2px 5px rgba(0,0,0,0.1);
        }
        .banner img {
            max-width: 100%;
            height: auto;
        }
        .header {
            width: 100%;
            height: 80px;
            background-color: #f8f8f8;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 20px;
            box-shadow: 0px 2px 5px rgba(0,0,0,0.1);
        }
        .header img {
            height: 60px;
            border-radius: 50%;
        }
        .welcome-text {
            font-size: 20px;
            font-weight: bold;
            margin-left: 15px;
        }
        .role-text {
            font-size: 16px;
            color: gray;
        }
        .timetable-container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
            border: 2px solid #ddd;
            border-radius: 10px;
            background-color: #f8f9fa;
            text-align: center;
        }
        table {
            width: 100%;
            margin-top: 10px;
        }
        th, td {
            text-align: center;
            padding: 10px;
            border: 1px solid #ddd;
        }
    </style>
</head>
<body>

<!-- Banner -->
<div class="banner">
    <img src="{{ url_for('static', filename='logo.jpg') }}" alt="College Banner">
</div>

<!-- Header -->
<div class="header">
    <div style="display: flex; align-items: center;">
        <img src="{{ faculty.profile_img or url_for('static', filename='default_profile.png') }}" alt="Profile Image">
        <div>
            <div class="welcome-text">Welcome! {{ faculty.name }}</div>
            <div class="role-text">Role: Faculty</div>
        </div>
    </div>
    <button class="btn btn-primary"
            onclick="window.location.href='{{ url_for('faculty_profile', email=faculty.email) }}'">
        Profile
    </button>
</div>

<!-- Timetable Section -->
<div class="container">
    <div class="timetable-container">
        <h3>Your Timetable</h3>

        <table class="table table-bordered">
            <thead class="table-dark">
                <tr>
                    <th>Department</th>
                    <th>Year</th>
                    <th>Section</th>
                    <th>Day</th>
                    <th>Time</th>
                    <th>Subject</th>
                </tr>
            </thead>
            <tbody>
                {% if timetable %}
                    {% for entry in timetable %}
                    <tr>
                        <td>{{ entry.teaching_for_department }}</td>
                        <td>{{ entry.year }}</td>
                        <td>{{ entry.section }}</td>
                        <td>{{ entry.day }}</td>
                        <td>{{ entry.time }}</td>
                        <td>{{ entry.subject }}</td>
                    </tr>
                    {% endfor %}
                {% else %}
                    <tr>
                        <td colspan="6">No timetable entries found.</td>
                    </tr>
                {% endif %}
            </tbody>
        </table>

        <a href="{{ url_for('edit_timetable') }}" class="btn btn-primary mt-3">Edit Timetable</a>
    </div>

    <h3>Manage Student Lists</h3>

       {% for entry in subjects_with_buttons %}
           <a href="{{ url_for('manage_students', year=entry.year, section=entry.section, subject=entry.subject) }}"
            class="btn btn-primary mt-2">
              ✏️ Manage Students ({{ entry.subject }})
           </a>
       {% endfor %}


</div>

</body>
</html>
